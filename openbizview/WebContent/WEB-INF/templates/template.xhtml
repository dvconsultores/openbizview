<?xml version='1.0' encoding='UTF-8' ?>
<!-- 
     Copyright (C) 2017 GLOBAL FORGE
 -->  
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--[if IE 8]> <html lang="en" class="ie8"/> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"/> <![endif]-->

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body class="nav-md">

    <div class="container body">
        <div class="main_container">

         <ui:include src="/WEB-INF/templates/menu.xhtml" />
            <!-- page content -->
            <div class="right_col" role="main">
               <div class="page-title">
                        <div class="title_left">
                            <h3>#{text.adminBankTitleP9} &nbsp; </h3>    
                             <!-- Mensaje -->
                         <p:messages globalOnly="true" id="growl" closable="true" showIcon="true"/>                   
                        </div>
                    </div>
               <div class="clearfix"></div>
               <h:form id="formAdmin1" styleClass="form-horizontal form-label-left">
               <div class="col-md-6 col-sm-6 col-xs-12">
                 <div class="x_panel">
                   <div class="x_title">
                 <h2><small>#{text.adminBankTitleP10}</small></h2>
                   <ul class="nav navbar-right panel_toolbox">
                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                   </ul>
                  <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                               
                                 <!-- Tabla con el resultado -->
						<p:dataTable id="tbResult"  emptyMessage="#{text.html7}" var="tb"   value="#{ta00007.list}" lazy="true"  
						paginator="true" paginatorAlwaysVisible="false" rows="15" rowsPerPageTemplate="5,10,15,20,50,100,500" paginatorPosition="top"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} &#160;&#160; {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {CurrentPageReport}"
						currentPageReportTemplate=" {currentPage} - {totalPages} #{msg.html28} #{ta00007.rows}"  
						filteredValue="#{ta00007.filtered}" widgetVar="global" reflow="true" >
						
						<f:facet name="header"> 			
			            <p:outputPanel>  
			                <p:inputText id="globalFilter" placeholder="#{text.html6}" onkeyup="PF('global').filter()" style="width:150px;" /> 
			            </p:outputPanel>         
			            </f:facet> 
			            
			            <p:column width="40" headerText="">  
			            <f:facet  name="header">
			            <p:commandLink onclick="fm_check('toDelete',true)"><i class="fa fa-bookmark fa-2x" title="#{msg.borrar}"></i></p:commandLink>
			            </f:facet>  
			            <input type="checkbox" name="toDelete" class="chk" value="#{tb.id}"/>
			            </p:column>
			            
			            
			            <p:column headerText="#{text.adminBankAccount}">
                        <h:outputLabel value="#{tb.name}"  />
                        </p:column>
			                  
			            <p:column width="70" headerText="#{text.html4}" >    
			            <p:commandLink  
			            process="@this"
			            update="@form"
			            action="#{ta00007.editar(tb.name,tb.mail,tb.phone_number,tb.id)}"
			            title="Enviar"><i class="fa fa-pencil-square-o fa-2x "></i></p:commandLink>  
			            </p:column> 
            
						</p:dataTable>	

                                </div>
                            </div>
                        </div>
                        
                        
                        <div class="col-md-6 col-sm-6 col-xs-12">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2><small>#{text.adminBankTitleP11}</small></h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                    <li class="dropdown">
                                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i> #{text.html11}</a>
                                            <ul class="dropdown-menu" role="menu">
                                                <li><a href="adminTypeAccount_Ta">#{text.adminBankLabel2}</a>
                                                </li>
                                                <li><a href="adminOffice_Ta">#{text.adminBankLabel8}</a>
                                                </li>
                                                <li><a href="adminBankContact_Ta">#{text.adminBankLabel9}</a>
                                                </li>
                                            </ul>
                                        </li>
                                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                <p:panel id="panel" style="border:0">
                                
                                   <div class="form-group">
                                      <label class="control-label col-md-3 col-sm-3 col-xs-12">#{text.adminBankLabel12_A}</label>
                                         <div class="col-md-9 col-sm-9 col-xs-12">
                                            <p:inputText id="name" styleClass="form-control" placeholder="#{text.adminBankLabel12}" value="#{ta00007.name}" required="true" requiredMessage="#{text.html8}"/>
                                            <p:message for="name" styleClass="margin-top-5"/>
                                         </div>
                                         
                                   </div>
                                   
                                   <div class="form-group">
                                      <label class="control-label col-md-3 col-sm-3 col-xs-12">#{text.adminBankLabel13}</label>
                                         <div class="col-md-9 col-sm-9 col-xs-12">
                                            <p:inputText id="mail" styleClass="form-control" placeholder="#{text.adminBankLabel13}" validatorMessage="#{text.login4}" value="#{ta00007.mail}" required="true" requiredMessage="#{text.html8}">
                                            <f:validateRegex
												pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
											</p:inputText>	
                                            <p:message for="mail" styleClass="margin-top-5"/>
                                         </div>
                                   </div>
                                   
                                   <div class="form-group">
                                      <label class="control-label col-md-3 col-sm-3 col-xs-12">#{text.adminBankLabel14}</label>
                                         <div class="col-md-9 col-sm-9 col-xs-12">
                                            <p:inputMask id="pn" mask="(999) 999-9999" styleClass="form-control" placeholder="#{text.adminBankLabel14}" value="#{ta00007.phone_number}" required="true" requiredMessage="#{text.html8}"/>
                                            <p:message for="pn" styleClass="margin-top-5"/>
                                         </div>
                                   </div>
                                   
                                   

                                        <div class="ln_solid"></div>
                                        <div class="form-group" style="margin-left: -160px">
                                            <div class="col-md-12 col-sm-9 col-xs-12 col-md-offset-3">
                                                <p:commandButton value="#{text.html13}" styleClass="btn btn-primary btn-sm" update="@form" action="#{ta00007.guardar}"/>
                                                <p:commandButton value="#{text.html14}" styleClass="btn btn-success btn-sm" immediate="true" onclick="modalDelete();"/>
                                                <p:commandButton icon="fa fa-refresh" update="@form" process="@this" 
                                                styleClass="btn btn-primary btn-sm"
								                 title="#{text.htmlr}">  
								                 <p:resetInput target="panel" />
								                 </p:commandButton>   
                                            </div>
                                        </div>   
                                 </p:panel>

                                </div>
                            </div>
                            <a href="admin1" title="#{text.adminBankTitle}">
                            <h2>
                            <i class="fa fa-step-backward icon-blue" aria-hidden="true"></i>  
                            &nbsp;
                            #{text.adminBankTitle}
                            </h2>                         
                            </a> 
                        </div>
                        
                        
                        <!-- Modal -->
			<div class="modal fade" id="myModalDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header panel-heading">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        <h4 class="modal-title" id="myModalLabel"><b>#{text.html32}</b></h4>
			      </div>
			      <div class="modal-body">
			       <center style="font-size: 14px">#{text.html31}</center>
			      </div>
			      <div class="modal-footer">
			        <p:commandLink  action="#{ta00007.delete}" styleClass="btn btn-primary btn-sm" value="#{text.html14}" immediate="true" update="tbResult, growl" accesskey="r" onclick="modalHide()"/>
			        
			        <p:commandLink  styleClass="btn btn-success btn-sm" value="#{text.html48}" immediate="true" update="tbResult, growl" onclick="modalHide()"/>
			       </div>
			    </div>
			  </div>
			</div>	
               </h:form>         
            </div>

    </div>
   </div> 
   
   
    
			
			
<script>
      $(document).ready(function () {
          $(".select2_single").select2({
             placeholder: "#{text.html12}",
             allowClear: true
          });
       });
</script>   
<ui:include src="/WEB-INF/templates/footer.xhtml" />
</h:body>
</html>
