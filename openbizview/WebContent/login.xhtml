
<!-- 
     Copyright (C) 2015 DVCONSULTORES
 -->
<!DOCTYPE html >

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
	<c:choose>
	    <c:when test="#{bd.getBundle()}">
	        <f:loadBundle basename="org.openbizview.util.MessagesBundle_es_VEN" var="msg"/>
	    </c:when>
	    <c:otherwise>
	        <f:loadBundle basename="org.openbizview.util.MessagesBundle_en_US" var="msg"/>
	    </c:otherwise>
	</c:choose>
	<!-- Required meta tags -->
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <title>OpenBizview</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css"/>
   <!-- plugin css for this page -->
  <link rel="stylesheet" href="assets/vendors/iconfonts/font-awesome/css/font-awesome.min.css" />
  <link rel="stylesheet" href="assets/vendors/iconfonts/puse-icons-feather/feather.css"/>
  <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.base.css"/>
  <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.addons.css"/>
  <!-- endinject -->
  <!-- plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="assets/css/shared/style.css"/>
  <link rel="stylesheet" href="assets/css/shared/styleCustom.css" />
  <!-- endinject -->

  <link rel="shortcut icon" href="assets/images/obvt.png" />

</h:head>


<h:body>
<div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper auth-page">
      <div class="content-wrapper d-flex align-items-center auth  theme-one auth-bg-1">
        <div class="row w-100">
          <div class="col-lg-4 mx-auto">
            <div class="auto-form-wrapper">
            <div class="py-1">
            <img width="70" style="margin-top: -10px" src="assets/images/obv1.png" alt=""/>
           </div>
            <br/>
              <h:form id="loginform">
                <div class="form-group">
                  <label class="label">#{msg['logUsuario']}</label>
                  <div class="input-group">
                   <h:inputText id="usuario" styleClass="form-control input_lg #{not component.valid ? 'border border-danger' : ''}" 
					maxlength="150" required="true" pt:placeholder="#{msg['logUsuario']} *"
					requiredMessage="Requerido"
					value="#{loginBean.usuario}">
				   </h:inputText>
                   <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-check-circle-outline"></i>
                      </span>
                    </div>                   
                  </div>
                  <h:message for="usuario"  styleClass="message"  />
                </div>
                <div class="form-group">
                  <label class="label">#{msg['logClave']}</label>
                  <div class="input-group">
                    <h:inputSecret id="clave" 
					styleClass="form-control input_lg #{not component.valid ? 'border border-danger' : ''}" maxlength="150"
					required="true" requiredMessage="Requerido"
					pt:placeholder="#{msg['logClave']} *" value="#{loginBean.clave}" />							
                    <div class="input-group-append">
                      <span class="input-group-text">
                        <i class="mdi mdi-check-circle-outline"></i>
                      </span>
                    </div>
                  </div>
                  <h:message for="clave"  styleClass="message" />
                </div>
                <div class="form-group">
				<div class="spinner-grow text-primary" id="loading-indicator1" style="display: none;"></div>
				<div class="spinner-grow text-success" id="loading-indicator2" style="display: none;"></div>
				<div class="spinner-grow text-warning" id="loading-indicator3" style="display: none;"></div>
				<div class="spinner-grow text-danger" id="loading-indicator4" style="display: none;"></div>
                
                 <h:commandButton styleClass="btn btn-primary submit-btn btn-block" value="Login" action="#{loginBean.login}" >
                      <f:ajax  execute="@form" render="@form" onevent="monitor"/>
                 </h:commandButton>
                </div>
                <div class="form-group d-flex justify-content-between"> 
                <a href="chgpass" class="text-small forgot-password text-black">#{msg['olvidocl']}</a>
                                	            
	            <div class="dropdown">
				  <button class="btn btn-light" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				    <img  height="20px" src="assets/images/flags/earth.png" alt="flag"/>
				    <i class="mdi mdi-chevron-down"></i>
				  </button>
				  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
				    <h:commandLink styleClass="dropdown-item" onclick="setLanguage('es')" immediate="true" >
				    <img  height="20px" src="assets/images/flags/VE.png" alt="flag"/>&#160;&#160;#{msg['htmles']}
				    </h:commandLink>
				    <h:commandLink styleClass="dropdown-item" onclick="setLanguage('en')"  immediate="true" >
				    <img  height="20px" src="assets/images/flags/US.png" alt="flag"/>&#160;&#160;#{msg['htmlin']}
				    </h:commandLink>
				  </div>
				</div>                
                </div>
				
				
				                
                <!-- Mensaje -->
				<div class="pt-1">				
				<h:messages globalOnly="true" id="growl"/>
				</div>
									
             </h:form>
            </div>
            <ul class="auth-footer">
              <li>
                <a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License 2.0</a>
              </li>
            </ul>
            <p class="footer-text text-center">copyright Â© 2015 Dvconsultores. All rights reserved.</p>
          </div>
        </div>
      </div>
      <!-- content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>
  <!-- container-scroller -->
  <!-- plugins:js -->
  <script src="assets/vendors/js/vendor.bundle.base.js"></script>
  <script src="assets/vendors/js/vendor.bundle.addons.js"></script>
  <!-- endinject -->
  <!-- inject:js -->
  <script src="assets/js/off-canvas.js"></script>
  <script src="assets/js/misc.js"></script>
  <!-- endinject -->
  <!-- Cookies -->
  <script src="assets/js/shared/jquery.cookie.js"></script>
  <script src="assets/js/shared/load.js" />
  <script type="text/javascript">
		$(getLanguage());
		
		function monitor(data){
			var loading1 = document.getElementById("loading-indicator1");
			var loading2 = document.getElementById("loading-indicator2");
			var loading3 = document.getElementById("loading-indicator3");
			var loading4 = document.getElementById("loading-indicator4");
			if(data.status == "begin"){
				loading1.style.display = "";
				loading2.style.display = "";
				loading3.style.display = "";
				loading4.style.display = "";
			}
			else if(data.status == "success"){
				loading1.style.display = "none";
				loading2.style.display = "none";
				loading3.style.display = "none";
				loading4.style.display = "none";
			}
		}
  </script>
</h:body>
</html>
